## 1.  개요

MySQL BY 8.0.42 ver.

`접속 #1 : docker exec -it system-modeling-1-mysql bash`

`접속 #2 : mysql -u root -p`

- 본 프로젝트를 통해 무결한 Data-modeling을 전제로 하여 시스템 모델링으로 이어지는 전략, 그 중 데이터베이스 설계에 대해 집중적으로 분석한다.
- 일전과 마찬가지로 이론에 그치지 않고 실무 활용, 이와 관련한 깊이 있는 고민을 통해 즉각 실무 적용이 가능할 정도로 역량을 보완하도록 한다.

구체적인 내용은 벨로그 통해 기술, 기술적인 내용들은 아래 내용으로 간략하게 기재.

## 2. 시스템 모델링 - 데이터베이스 설계

> 개념적 모델링 - 논리적 모델링 - 물리적 모델링까지 이어진다.

[벨로그 기술에 자세한 내용 기술](https://velog.io/@gyrbs22/%EB%B0%B1%EC%97%94%EB%93%9C-Database-3-%EC%A0%95%EB%B3%B4%EB%A5%BC-%ED%91%9C%ED%98%84%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95%EC%9D%84-%EA%B3%A0%EB%AF%BC%ED%95%98%EB%8B%A4-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%AA%A8%EB%8D%B8%EB%A7%81%EB%B3%B8%EC%A7%88%ED%8E%B8-%ED%99%95%EC%9E%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%84%A4%EA%B3%84%EC%9D%98-3%EB%8B%A8%EA%B3%84)

### 2-1.개념적 모델링 : 엔티티 별 ERD 산출

> 데이터를 표현하고 이의 관계를 ERD를 통해 나타낸다.

key point : 엔티티 구성 및 분류
- 형태 유무에 따른 유형엔티티, 무형엔티티
  - 무형 엔티티는 비즈니스 행위에 필요한 개념 엔티티, 비즈니스 행위의 결과인 사건(이벤트) 엔티티
- 비즈니스 처리 흐름에 따른 기본엔티티, 중심엔티티, 행위엔티티
  - 기본엔티티와 중심엔티티는 각각 정보성 데이터, 원장 데이터, 행위엔티티는 로그성 데이터 
- 관계 기반에 따라 식별 관계의 강한 엔티티, 약한 엔티티 혹은 비식별 관계로 분류
- 관계가 행위에 종속될 경우 연관 엔티티, 엔티티의 특성을 계층적으로 나타낸다면 슈퍼타입/서브엔티티로 분류

엔티티 분류 작업 이후에 인덱스 생성 및 데이터 파티셔닝/아키이빙 등의 추가 전략 구성 필요.

> 기본/중심 엔티티 1차 도출 후 관계성/비즈니스 행위에 기반한 연관 엔티티를 통해 2차 정규화 진행.

key point : 카디널리티 및 참여도 정의와 연관 엔티티를 통한 다대다 관계 해소
- 연결관계(카디널리티)와 참여도를 정의하여 엔티티 간의 관계를 세부적으로 정의한다.
- 이후 산출된 다대다 엔티티에 대해서는 관계 기반의 연관 엔티티를 적극 활용하여 다대다 관계를 해소한다.
- 용어사전을 운용하여 모델링 운용의 효율성을 제고하고 일관성을 확보한다.

## 2-2. 논리적 모델링 : 테이블 스키마 산출

> 테이블의 PK를 설정하고, FK를 통해 테이블 간의 연결관계 및 스키마를 나타낸다.

key point : 불변하는 자연키는 존재하지 않으며, 인조키 설정으로 인한 성능 트레이드 오프를 고려해야 하다.
- 자연키 설정의 경우, 비즈니스에 종속적이기에 대표성은 가지지만 불변하지 않고, 변경점 발생 시 대응에 취약.
  - 자연키가 실무에서 빈번히 발생하는 조회속성 및 정렬순서가 다르다면 PK 정렬에 수반되는 비용 발생
- 인조키(대리키) 설정의 경우, 비즈니스와 테이블의 관계를 완벽하게 분리하고 본연의 목적을 수행하기 위해 인조적으로 생성.
  - 클러스터링 인덱스가 존재하더라도, 조회 성능 향상을 위한 추가 인덱스 설계가 반드시 필요

> 성능적 장단점이 존재하더라도, 대리키가 가져다주는 이점이 확실하기에 대리키(PK)-자연키(UNIQUE) 조합을 강력하게 권장.
- 변경사항이 빈번하게 바뀌는 현대 애플리케이션 특성 상, 직관성/편의성에서 안정성/유연성/확장성으로 관리 패러다임이 변경되었다.
- 시스템 모델링 및 MSA에서의 분산환경으로의 변경점이 그대로 전파되어, 대리키의 중요도는 그만큼 높아졌다.

> 자연키의 문제점은 복합키의 설정으로 이어질 수 있고, 모델링 및 데이터 조합 시 번거로움, 물리적 비용이 그만큼 증가한다.
- 단순하게 대리키 하나를 지정하고, 해당 자연키를 UNIQUE하게 지정하여 안정성/확장성/인덱스 추가 설계 등의 성능 및 구조적 장점을 확보할 수 있다.
- 데이터 관리 - 대리키 1개로 단순화, 비즈니스의 속성/고유성 보장 - UNIQUE 제약조건 설정